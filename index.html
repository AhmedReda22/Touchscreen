<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Sharpen Your Mind!</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
  <style>
    /* ========== GENERAL STYLES ========== */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: 'Poppins', sans-serif;
      background: #f4f4f4;
      text-align: center;
      color: #333;
      overflow: hidden;
      height: 100vh;
    }

    /* ========== HOLDING PAGE ========== */
    #holding-page {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: space-between;
      height: 100vh;
      width: 100vw;
      color: white;
      position: relative;
      overflow: hidden;
      background-image: url('./imgs/8.png');
      background-size: cover;
      background-position: center;
      padding: 2vh 20px;
    }

    .top-content {
      width: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      z-index: 10;
      flex-shrink: 0;
    }

    .top-content h1 {
      font-size: clamp(2rem, 5vw, 3.5rem);
      font-weight: 900;
      color: #ffc900;
      text-shadow: 0 0 5px rgba(0, 0, 0, 0.5);
      margin-bottom: 1vh;
    }

    .top-content p {
      font-size: clamp(1rem, 2.5vw, 1.5rem);
      font-weight: 500;
      color: white;
      text-shadow: 0 0 5px rgba(0, 0, 0, 0.5);
      max-width: 1200px;
    }

    .character-speech-container {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 100%;
      max-width: 1200px;
      margin: 0 auto;
      position: relative;
      gap: 20px;
      flex-shrink: 0;
      height: 30vh;
    }

    .robot-character {
      width: clamp(120px, 20vw, 250px);
      height: clamp(120px, 20vw, 250px);
      background-image: url('./imgs/charachter.png');
      background-size: contain;
      background-repeat: no-repeat;
      background-position: center;
      animation: robotMove 2.5s ease-in-out infinite;
      flex-shrink: 0;
    }

    @keyframes robotMove {
      0% { transform: translateY(0) rotate(0deg); }
      25% { transform: translateY(-3px) rotate(1deg); }
      50% { transform: translateY(0) rotate(-1deg); }
      75% { transform: translateY(3px) rotate(0.5deg); }
      100% { transform: translateY(0) rotate(0deg); }
    }

    .speech-bubble-container {
      width: 650PX;
      background-image: url('./imgs/2.png');
      background-size: 148% 120%;
      background-repeat: no-repeat;
      background-position: center;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      padding: clamp(80px, 15vw, 150px) clamp(30px, 8vw, 120px);
      z-index: 9;
      flex-shrink: 0;
      margin: 0 clamp(20px, 5vw, 40px);
    }

    .speech-bubble-container p {
      color: #ffffff;
      font-weight: 600;
      font-size: clamp(0.9rem, 2vw, 1.4rem);
      line-height: 1.5;
    }

    .lang-buttons {
      width: 100%;
      display: flex;
      justify-content: center;
      gap: clamp(20px, 5vw, 50px);
      z-index: 10;
      flex-shrink: 0;
      height: 15vh;
      align-items: center;
    }

    .lang-buttons button {
      background-image: url('./imgs/1.png');
      background-size: cover;
      background-repeat: no-repeat;
      background-position: center;
      background-color: transparent;
      color: white;
      font-weight: 800;
      font-size: clamp(1.2rem, 3vw, 2rem);
      border: none;
      cursor: pointer;
      transition: transform 0.3s ease;
      text-shadow: 0 2px 5px rgba(0, 0, 0, 0.5);
      width: clamp(180px, 30vw, 300px);
      height: clamp(70px, 12vw, 120px);
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .lang-buttons button:hover {
      transform: scale(1.05);
    }

    /* ========== KNOWLEDGE PAGE ========== */
    #knowledge-page {
      display: none;
      flex-direction: column;
      height: 100vh;
      background-image: url('./imgs/8.png');
      background-size: cover;
      background-position: center;
      color: white;
      padding: 2vh 20px;
      position: relative;
      overflow: hidden;
    }

    .knowledge-content {
      display: flex;
      flex-direction: column;
      height: 100%;
      justify-content: center;
      align-items: center;
      gap: 2rem;
    }

    .character-speech-container.knowledge {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 100%;
      max-width: 1200px;
      margin: 0 auto;
      gap: 20px;
      flex-shrink: 0;
    }

    .topics-section {
      padding: 0 1rem;
      width: 100%;
      max-width: 1400px;
      margin: 0 auto;
      flex-grow: 1;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .topics-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 1.5rem;
      width: 100%;
      max-height: 60vh;
      overflow-y: auto;
      padding: 10px;
    }

    .topic-card {
      background-color: rgba(64, 120, 120, 0.8);
      border-radius: 1.5rem;
      padding: 1.5rem;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
      min-height: 200px;
    }

    .topic-card:hover {
      transform: scale(1.05);
      box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3);
    }

    .topic-card.selected {
      box-shadow: 0 0 0 4px #fbbf24, 0 15px 40px rgba(0, 0, 0, 0.3);
    }

    .topic-icon {
      width: clamp(80px, 15vw, 150px);
      height: clamp(80px, 15vw, 150px);
      margin-bottom: 1rem;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .topic-icon img {
      width: 100%;
      height: 100%;
      object-fit: contain;
      animation: zoomInOut 3s ease-in-out infinite;
    }

    .topic-title {
      font-size: clamp(1rem, 2vw, 1.3rem);
      font-weight: bold;
      text-align: center;
    }

    /* ========== زر العودة وزر الصفحة الرئيسية ========== */
    .navigation-buttons {
      position: fixed;
      bottom: 1.5rem;
      left: 1.5rem;
      display: flex;
      gap: 1rem;
      z-index: 10;
    }

    .home-button, .main-home-button {
      width: clamp(4rem, 8vw, 5rem);
      height: clamp(4rem, 8vw, 5rem);
      border-radius: 50%;
      border: none;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
      transition: all 0.2s ease;
      background: transparent;
      padding: 0;
    }

    .home-button img, .main-home-button img {
      width: 100%;
      height: 100%;
      object-fit: contain;
      border-radius: 50%;
    }

    .home-button:hover, .main-home-button:hover {
      transform: scale(1.1);
    }

    /* ========== QUIZ PAGES ========== */
    .quiz-page {
      display: none;
      flex-direction: column;
      height: 100vh;
      color: white;
      padding: 2vh 20px;
      position: relative;
      overflow: hidden;
    }

    .quiz-content {
      display: flex;
      flex-direction: column;
      height: 100%;
      justify-content: space-between;
    }

    .quiz-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0 1rem;
      flex-shrink: 0;
      height: 15vh;
    }

    .quiz-title {
      font-size: clamp(1.5rem, 4vw, 2.5rem);
      font-weight: 800;
      color: #ffc900;
      text-shadow: 0 0 5px rgba(0, 0, 0, 0.5);
      text-align: left;
      flex: 1;
    }

    .quiz-icon {
      width: clamp(80px, 15vw, 150px);
      height: clamp(80px, 15vw, 150px);
      animation: zoomInOut 3s ease-in-out infinite;
      flex-shrink: 0;
    }

    .quiz-icon img {
      width: 100%;
      height: 100%;
      object-fit: contain;
    }

    /* أنيميشن الزووم */
    @keyframes zoomInOut {
      0% { transform: scale(1); }
      50% { transform: scale(1.15); }
      100% { transform: scale(1); }
    }

    /* التعديلات المطلوبة: جعل العناصر تنزل لأسفل في الصفحات التعليمية */
    #math-questions-page .character-speech-container.quiz,
    #nature-questions-page .character-speech-container.quiz,
    #uzbekistan-questions-page .character-speech-container.quiz,
    #ancestors-questions-page .character-speech-container.quiz {
      display: flex;
      align-items: center;
      justify-content: center; 
      height: 20vh;
      margin: 0 auto;
      flex-shrink: 0;
      width: 100%;
      max-width: 1200px; 
      margin-top: 8rem; /* إضافة مسافة من الأعلى */
    }

    #math-questions-page .question-container,
    #nature-questions-page .question-container,
    #uzbekistan-questions-page .question-container,
    #ancestors-questions-page .question-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      flex-grow: 1;
      width: 100%;
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 1rem;
      margin-top: 4rem; /* إضافة مسافة من الأعلى */
    }

    .options-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1.5rem;
      width: 100%;
      max-width: 1200px;
    }

    .option-button {
      background-image: url('./imgs/7.png');
      background-size: 100% 100%;
      background-repeat: no-repeat;
      background-position: center;
      background-color: transparent;
      color: white;
      font-weight: 700;
      font-size: clamp(1.2rem, 2.5vw, 2.2rem);
      border: none;
      cursor: pointer;
      transition: all 0.3s ease;
      text-shadow: 0 2px 8px rgba(0, 0, 0, 0.8);
      width: 100%;
      height: clamp(100px, 15vw, 150px);
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 1.5rem;
      border-radius: 15px;
      word-wrap: break-word;
      overflow-wrap: break-word;
      word-break: break-word;
      hyphens: auto;
      text-align: center;
      line-height: 1.3;
    }

    .option-button:hover {
      transform: scale(1.08);
    }

    /* التغييرات الجديدة للإجابات الصحيحة والخاطئة */
    .option-button.correct {
      background-image: url('./imgs/green-button.png');
    }

    .option-button.incorrect {
      background-image: url('./imgs/red-button.png');
    }

    /* فئات جديدة لضبط حجم الخط للنصوص الطويلة */
    .option-button.medium-text {
      font-size: clamp(1rem, 2vw, 1.8rem);
    }

    .option-button.small-text {
      font-size: clamp(0.8rem, 1.8vw, 1.5rem);
    }

    .option-button.very-small-text {
      font-size: clamp(0.7rem, 1.5vw, 1.2rem);
    }

    .progress-container {
      width: 100%;
      max-width: 800px;
      margin: 1rem auto;
      background-color: rgba(255, 255, 255, 0.2);
      border-radius: 10px;
      height: 20px;
      overflow: hidden;
      flex-shrink: 0;
    }

    .progress-bar {
      height: 100%;
      background-color: #ffc900;
      width: 0%;
      transition: width 0.5s ease;
    }

    .result-container {
      display: none;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      margin: 0 auto;
      max-width: 800px;
      background-color: rgba(255, 255, 255, 0.1);
      border-radius: 20px;
      padding: 2rem;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
      width: 90%;
      flex-grow: 1;
    }

    .result-title {
      font-size: clamp(1.8rem, 4vw, 2.5rem);
      color: #ffc900;
      margin-bottom: 1.5rem;
      text-shadow: 0 2px 5px rgba(0, 0, 0, 0.5);
    }

    .result-score {
      font-size: clamp(2rem, 5vw, 3rem);
      font-weight: 800;
      color: white;
      margin-bottom: 1.5rem;
    }

    .result-message {
      font-size: clamp(1.2rem, 2.5vw, 1.5rem);
      color: white;
      margin-bottom: 2rem;
      text-align: center;
      line-height: 1.6;
    }

    .restart-button {
      background-image: url('./imgs/7.png');
      background-size: cover;
      background-repeat: no-repeat;
      background-position: center;
      background-color: transparent;
      color: white;
      font-weight: 700;
      font-size: clamp(1.2rem, 2.5vw, 1.8rem);
      border: none;
      cursor: pointer;
      transition: transform 0.3s ease;
      text-shadow: 0 2px 5px rgba(0, 0, 0, 0.8);
      width: clamp(180px, 30vw, 250px);
      height: clamp(70px, 12vw, 100px);
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 1rem;
      border-radius: 15px;
      margin-top: 1rem;
    }

    .restart-button:hover {
      transform: scale(1.05);
    }

    /* ========== MEDIA QUERIES ========== */
    @media (max-width: 1200px) {
      .options-container {
        max-width: 900px;
      }
    }

    @media (max-width: 992px) {
      .character-speech-container {
        flex-direction: column;
        gap: 10px;
        height: 25vh;
      }
      
      .speech-bubble-container {
        max-width: 90%;
      }
      
      .quiz-header {
        justify-content: center;
        text-align: center;
        flex-direction: column;
        height: 20vh;
        gap: 10px;
      }
      
      .quiz-title {
        text-align: center;
      }
    }

    @media (max-width: 768px) {
      .character-speech-container {
        height: 30vh;
      }
      
      .topics-grid {
        grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
        gap: 1rem;
      }
      
      .topic-card {
        min-height: 180px;
        padding: 1rem;
      }
      
      .options-container {
        grid-template-columns: repeat(2, 1fr);
        gap: 1rem;
      }
      
      .navigation-buttons {
        bottom: 1rem;
        left: 1rem;
        gap: 0.8rem;
      }
      
      .lang-buttons {
        flex-wrap: wrap;
        height: auto;
        padding: 10px 0;
      }
      
      .option-button {
        padding: 1rem;
      }
    }

    @media (max-width: 576px) {
      #holding-page, #knowledge-page, .quiz-page {
        padding: 1vh 10px;
      }
      
      .topics-grid {
        grid-template-columns: 1fr;
      }
      
      .options-container {
        grid-template-columns: 1fr;
      }
      
      .option-button {
        height: 100px;
        padding: 0.8rem;
      }
      
      .quiz-header {
        flex-direction: column;
        height: 25vh;
      }
      
      .result-container {
        padding: 1.5rem;
      }
      
      .character-speech-container {
        height: 35vh;
      }
      
      .navigation-buttons {
        flex-direction: column;
        gap: 0.5rem;
      }
    }

    @media (max-width: 480px) {
      .topic-card {
        min-height: 150px;
      }
      
      .topic-icon {
        width: 80px;
        height: 80px;
      }
      
      .option-button {
        font-size: 1.2rem;
      }
      
      .lang-buttons {
        flex-direction: column;
        gap: 10px;
      }
    }

    /* تحسينات خاصة للشاشات الطويلة */
    @media (max-height: 700px) {
      .top-content h1 {
        margin-bottom: 0.5vh;
      }
      
      .topic-card {
        min-height: 140px;
        padding: 0.8rem;
      }
      
      .topic-icon {
        width: 60px;
        height: 60px;
        margin-bottom: 0.5rem;
      }
      
      .character-speech-container {
        height: 35vh;
      }
      
      .quiz-header {
        height: 18vh;
      }
    }
    
    @media (max-height: 600px) {
      .character-speech-container {
        height: 40vh;
      }
      
      .topics-grid {
        max-height: 50vh;
      }
      
      .quiz-header {
        height: 15vh;
      }
    }
  </style>
</head>
<body>

  <!-- HOLDING PAGE -->
  <div id="holding-page">
    <div class="top-content">
      <h1>Sharpen Your Mind!</h1>
      <p>Challenge your brain with fun questions about numbers and patterns.</p>
    </div>

    <div class="character-speech-container">
      <div class="robot-character"></div>
      <div class="speech-bubble-container">
        <p>Before you start your journey, are you ready to test your knowledge? Join me and sharpen your mind with every question!</p>
      </div>
    </div>

    <div class="lang-buttons">
      <button id="boshlash-btn">Boshlash</button>
      <button id="nachat-btn">Начать</button>
      <button id="start-btn">START</button>
    </div>
  </div>

  <!-- KNOWLEDGE PAGE -->
  <div id="knowledge-page">
    <div class="knowledge-content">
      <div class="character-speech-container knowledge">
        <div class="robot-character"></div>
        <div class="speech-bubble-container">
          <p>Choose a topic to begin your adventure of knowledge!</p>
        </div>
      </div>

      <div class="topics-section">
        <div class="topics-grid">
          <div class="topic-card" onclick="selectTopic(this, 'ancestors')">
            <div class="topic-icon"><img src="./imgs/3.png" alt="Ancestors"></div>
            <div class="topic-title">Great Ancestors</div>
          </div>
          <div class="topic-card" onclick="selectTopic(this, 'uzbekistan')">
            <div class="topic-icon"><img src="./imgs/4.png" alt="Uzbekistan"></div>
            <div class="topic-title">Uzbekistan Knowledge</div>
          </div>
          <div class="topic-card" onclick="selectTopic(this, 'nature')">
            <div class="topic-icon"><img src="./imgs/5.png" alt="Nature"></div>
            <div class="topic-title">Nature & Environment</div>
          </div>
          <div class="topic-card" onclick="selectTopic(this, 'math')">
            <div class="topic-icon"><img src="./imgs/6.png" alt="Math"></div>
            <div class="topic-title">Simple Mathematics</div>
          </div>
        </div>
      </div>
    </div>

    <div class="navigation-buttons">
      <button class="home-button" aria-label="Home" id="home-btn">
        <img src="./imgs/0.png" alt="Home">
      </button>
      <button class="main-home-button" aria-label="Main Home" id="main-home-btn">
        <img src="./imgs/home.png" alt="Main Home">
      </button>
    </div>
  </div>

  <!-- MATH QUESTIONS PAGE -->
  <div id="math-questions-page" class="quiz-page" style="background-image: url('./imgs/9.png'); background-size: cover; background-position: center;">
    <div class="quiz-content">
      <div class="quiz-header">
        <div class="quiz-title">Simple Mathematics</div>
        <div class="quiz-icon">
          <img src="./imgs/6.png" alt="Math Icon">
        </div>
      </div>

      <div class="character-speech-container quiz">
        <div class="robot-character"></div>
        <div class="speech-bubble-container">
          <p id="math-question-text">What is the largest three-digit number?</p>
        </div>
      </div>

      <div class="question-container">
        <div class="options-container" id="math-options-container">
          <!-- Options will be populated by JavaScript -->
        </div>
      </div>

      <div class="progress-container">
        <div class="progress-bar" id="math-progress-bar"></div>
      </div>
    </div>

    <div class="result-container" id="math-result-container">
      <div class="result-title" id="math-result-title">Quiz Completed!</div>
      <div class="result-score" id="math-result-score">Score: 0/10</div>
      <div class="result-message" id="math-result-message">Great job! You're a math wizard!</div>
      <button class="restart-button" id="math-restart-button">Try Again</button>
    </div>

    <div class="navigation-buttons">
      <button class="home-button" aria-label="Home" id="math-home-btn">
        <img src="./imgs/0.png" alt="Home">
      </button>
      <button class="main-home-button" aria-label="Main Home" id="math-main-home-btn">
        <img src="./imgs/home.png" alt="Main Home">
      </button>
    </div>
  </div>

  <!-- باقي الصفحات (Nature, Uzbekistan, Ancestors) ستتبع نفس النمط -->
  <!-- NATURE QUESTIONS PAGE -->
  <div id="nature-questions-page" class="quiz-page" style="background-image: url('./imgs/10.png'); background-size: cover; background-position: center;">
    <div class="quiz-content">
      <div class="quiz-header">
        <div class="quiz-title">Nature & Environment</div>
        <div class="quiz-icon">
          <img src="./imgs/5.png" alt="Nature Icon">
        </div>
      </div>

      <div class="character-speech-container quiz">
        <div class="robot-character"></div>
        <div class="speech-bubble-container">
          <p id="nature-question-text">What does the Sun give us?</p>
        </div>
      </div>

      <div class="question-container">
        <div class="options-container" id="nature-options-container">
          <!-- Options will be populated by JavaScript -->
        </div>
      </div>

      <div class="progress-container">
        <div class="progress-bar" id="nature-progress-bar"></div>
      </div>
    </div>

    <div class="result-container" id="nature-result-container">
      <div class="result-title" id="nature-result-title">Quiz Completed!</div>
      <div class="result-score" id="nature-result-score">Score: 0/10</div>
      <div class="result-message" id="nature-result-message">Great job! You're a nature expert!</div>
      <button class="restart-button" id="nature-restart-button">Try Again</button>
    </div>

    <div class="navigation-buttons">
      <button class="home-button" aria-label="Home" id="nature-home-btn">
        <img src="./imgs/0.png" alt="Home">
      </button>
      <button class="main-home-button" aria-label="Main Home" id="nature-main-home-btn">
        <img src="./imgs/home.png" alt="Main Home">
      </button>
    </div>
  </div>

  <!-- UZBEKISTAN QUESTIONS PAGE -->
  <div id="uzbekistan-questions-page" class="quiz-page" style="background-image: url('./imgs/11.png'); background-size: cover; background-position: center;">
    <div class="quiz-content">
      <div class="quiz-header">
        <div class="quiz-title">Uzbekistan Knowledge</div>
        <div class="quiz-icon">
          <img src="./imgs/4.png" alt="Uzbekistan Icon">
        </div>
      </div>

      <div class="character-speech-container quiz">
        <div class="robot-character"></div>
        <div class="speech-bubble-container">
          <p id="uzbekistan-question-text">How many regions does Uzbekistan have?</p>
        </div>
      </div>

      <div class="question-container">
        <div class="options-container" id="uzbekistan-options-container">
          <!-- Options will be populated by JavaScript -->
        </div>
      </div>

      <div class="progress-container">
        <div class="progress-bar" id="uzbekistan-progress-bar"></div>
      </div>
    </div>

    <div class="result-container" id="uzbekistan-result-container">
      <div class="result-title" id="uzbekistan-result-title">Quiz Completed!</div>
      <div class="result-score" id="uzbekistan-result-score">Score: 0/10</div>
      <div class="result-message" id="uzbekistan-result-message">Great job! You know Uzbekistan well!</div>
      <button class="restart-button" id="uzbekistan-restart-button">Try Again</button>
    </div>

    <div class="navigation-buttons">
      <button class="home-button" aria-label="Home" id="uzbekistan-home-btn">
        <img src="./imgs/0.png" alt="Home">
      </button>
      <button class="main-home-button" aria-label="Main Home" id="uzbekistan-main-home-btn">
        <img src="./imgs/home.png" alt="Main Home">
      </button>
    </div>
  </div>

  <!-- ANCESTORS QUESTIONS PAGE -->
  <div id="ancestors-questions-page" class="quiz-page" style="background-image: url('./imgs/12.png'); background-size: cover; background-position: center;">
    <div class="quiz-content">
      <div class="quiz-header">
        <div class="quiz-title">Great Ancestors</div>
        <div class="quiz-icon">
          <img src="./imgs/3.png" alt="Ancestors Icon">
        </div>
      </div>

      <div class="character-speech-container quiz">
        <div class="robot-character"></div>
        <div class="speech-bubble-container">
          <p id="ancestors-question-text">What was Amir Temur's motto?</p>
        </div>
      </div>

      <div class="question-container">
        <div class="options-container" id="ancestors-options-container">
          <!-- Options will be populated by JavaScript -->
        </div>
      </div>

      <div class="progress-container">
        <div class="progress-bar" id="ancestors-progress-bar"></div>
      </div>
    </div>

    <div class="result-container" id="ancestors-result-container">
      <div class="result-title" id="ancestors-result-title">Quiz Completed!</div>
      <div class="result-score" id="ancestors-result-score">Score: 0/10</div>
      <div class="result-message" id="ancestors-result-message">Great job! You know our ancestors well!</div>
      <button class="restart-button" id="ancestors-restart-button">Try Again</button>
    </div>

    <div class="navigation-buttons">
      <button class="home-button" aria-label="Home" id="ancestors-home-btn">
        <img src="./imgs/0.png" alt="Home">
      </button>
      <button class="main-home-button" aria-label="Main Home" id="ancestors-main-home-btn">
        <img src="./imgs/home.png" alt="Main Home">
      </button>
    </div>
  </div>

  <script>
    // الانتقال إلى صفحة المعرفة
    document.querySelectorAll('#start-btn, #boshlash-btn, #nachat-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        document.getElementById('holding-page').style.display = 'none';
        document.getElementById('knowledge-page').style.display = 'flex';
        window.scrollTo(0, 0);
      });
    });

    // اختيار موضوع
    function selectTopic(element, type) {
      document.querySelectorAll('.topic-card').forEach(card => card.classList.remove('selected'));
      element.classList.add('selected');
      
      setTimeout(() => {
        document.getElementById('knowledge-page').style.display = 'none';
        switch(type) {
          case 'math':
            document.getElementById('math-questions-page').style.display = 'flex';
            loadMathQuestion();
            break;
          case 'nature':
            document.getElementById('nature-questions-page').style.display = 'flex';
            loadNatureQuestion();
            break;
          case 'uzbekistan':
            document.getElementById('uzbekistan-questions-page').style.display = 'flex';
            loadUzbekistanQuestion();
            break;
          case 'ancestors':
            document.getElementById('ancestors-questions-page').style.display = 'flex';
            loadAncestorsQuestion();
            break;
        }
        window.scrollTo(0, 0);
      }, 500);
    }

    // زر الرجوع إلى صفحة المعرفة
    document.getElementById('home-btn').addEventListener('click', () => {
      document.getElementById('knowledge-page').style.display = 'none';
      document.getElementById('holding-page').style.display = 'flex';
      window.scrollTo(0, 0);
    });

    // زر الرجوع إلى صفحة المعرفة - إخفاء هذا الزر في صفحة المعرفة
document.getElementById('home-btn').addEventListener('click', () => {
  document.getElementById('knowledge-page').style.display = 'none';
  document.getElementById('holding-page').style.display = 'flex';
  window.scrollTo(0, 0);
});

// زر العودة إلى الصفحة الرئيسية الأولى - إبقاء هذا الزر مرئيًا
document.getElementById('main-home-btn').addEventListener('click', () => {
  document.getElementById('knowledge-page').style.display = 'none';
  document.getElementById('holding-page').style.display = 'flex';
  window.scrollTo(0, 0);
});

// إخفاء زر الصفحة الرئيسية (0.png) في صفحة المعرفة عند تحميل الصفحة
window.addEventListener('load', () => {
  // إخفاء زر الصفحة الرئيسية في صفحة المعرفة فقط
  document.getElementById('home-btn').style.display = 'none';
});

    document.getElementById('math-main-home-btn').addEventListener('click', () => {
      document.getElementById('math-questions-page').style.display = 'none';
      document.getElementById('holding-page').style.display = 'flex';
      window.scrollTo(0, 0);
    });

    document.getElementById('nature-home-btn').addEventListener('click', () => {
      document.getElementById('nature-questions-page').style.display = 'none';
      document.getElementById('knowledge-page').style.display = 'flex';
      window.scrollTo(0, 0);
    });

    document.getElementById('nature-main-home-btn').addEventListener('click', () => {
      document.getElementById('nature-questions-page').style.display = 'none';
      document.getElementById('holding-page').style.display = 'flex';
      window.scrollTo(0, 0);
    });

    document.getElementById('uzbekistan-home-btn').addEventListener('click', () => {
      document.getElementById('uzbekistan-questions-page').style.display = 'none';
      document.getElementById('knowledge-page').style.display = 'flex';
      window.scrollTo(0, 0);
    });

    document.getElementById('uzbekistan-main-home-btn').addEventListener('click', () => {
      document.getElementById('uzbekistan-questions-page').style.display = 'none';
      document.getElementById('holding-page').style.display = 'flex';
      window.scrollTo(0, 0);
    });

    document.getElementById('ancestors-home-btn').addEventListener('click', () => {
      document.getElementById('ancestors-questions-page').style.display = 'none';
      document.getElementById('knowledge-page').style.display = 'flex';
      window.scrollTo(0, 0);
    });

    document.getElementById('ancestors-main-home-btn').addEventListener('click', () => {
      document.getElementById('ancestors-questions-page').style.display = 'none';
      document.getElementById('holding-page').style.display = 'flex';
      window.scrollTo(0, 0);
    });

    // ========== MATH QUESTIONS ==========
    const mathQuestions = [
      {
        question: "Let's add! What is 8 + 6?",
        options: ["14", "13", "15"],
        correctAnswer: 0
      },
      {
        question: "Let's subtract! What is 9 – 4?",
        options: ["6", "5", "4"],
        correctAnswer: 1
      },
      {
        question: "Let's multiply! What is 7 × 2?",
        options: ["12", "14", "16"],
        correctAnswer: 1
      },
      {
        question: "Let's divide! What is 18 ÷ 3?",
        options: ["6", "5", "4"],
        correctAnswer: 0
      },
      {
        question: "Find the odd number:",
        options: ["24", "19", "10"],
        correctAnswer: 1
      },
      {
        question: "How many days are there in a week?",
        options: ["5", "6", "7"],
        correctAnswer: 2
      },
      {
        question: "What is the smallest two-digit number?",
        options: ["11", "10", "12"],
        correctAnswer: 1
      },
      {
        question: "Let's add! What is 4 + 9?",
        options: ["13", "12", "14"],
        correctAnswer: 0
      },
      {
        question: "Let's multiply! What is 5 × 5?",
        options: ["20", "30", "25"],
        correctAnswer: 2
      },
      {
        question: "2, 4, 6, 8, … What is the next number?",
        options: ["9", "10", "12"],
        correctAnswer: 1
      }
    ];

    // ========== NATURE QUESTIONS ==========
    const natureQuestions = [
      {
        question: "What does the Sun give us?",
        options: ["Heat and light", "Electricity", "Water"],
        correctAnswer: 0
      },
      {
        question: "Which one lives in water?",
        options: ["Bird", "Fish", "Cat"],
        correctAnswer: 1
      },
      {
        question: "Which animal can see well in the dark?",
        options: ["Cow", "Cat", "Rabbit"],
        correctAnswer: 1
      },
      {
        question: "Where do leaves grow?",
        options: ["On trees", "In the soil", "In winter"],
        correctAnswer: 0
      },
      {
        question: "During which season do people wear more clothes?",
        options: ["Spring", "Summer", "Winter"],
        correctAnswer: 2
      },
      {
        question: "Where do animals live?",
        options: ["In houses", "In forests, fields, and homes", "In cars"],
        correctAnswer: 1
      },
      {
        question: "What do flowers grow from?",
        options: ["Seeds", "Leaves", "Water"],
        correctAnswer: 0
      },
      {
        question: "Why do we need air?",
        options: ["For breathing", "For drinking", "For running"],
        correctAnswer: 0
      },
      {
        question: "In which season does it rain the most?",
        options: ["Spring", "Summer", "Winter"],
        correctAnswer: 0
      },
      {
        question: "What is the purpose of a tree's roots?",
        options: ["To produce leaves", "To attach to the soil<br>and absorb nutrients", "To produce fruit"],
        correctAnswer: 1
      }
    ];

    // ========== UZBEKISTAN QUESTIONS ==========
    const uzbekistanQuestions = [
      {
        question: "How many regions does Uzbekistan have?",
        options: ["14", "12", "13"],
        correctAnswer: 1
      },
      {
        question: "Which river flows through Uzbekistan?",
        options: ["Nile", "Amu Darya", "Danube"],
        correctAnswer: 1
      },
      {
        question: "What is the national currency of Uzbekistan?",
        options: ["Soʻm", "Ruble", "Riyal"],
        correctAnswer: 0
      },
      {
        question: "Where is Uzbekistan located?",
        options: ["North America", "Central Asia", "South Africa"],
        correctAnswer: 1
      },
      {
        question: "In which city is the Kok Saroy Palace located?",
        options: ["Bukhara", "Tashkent", "Qarshi"],
        correctAnswer: 1
      },
      {
        question: "What is Andijan famous for?",
        options: ["Its sea", "Its gardens", "Its mountains"],
        correctAnswer: 1
      },
      {
        question: "How many verses does Uzbekistan's national anthem have?",
        options: ["3", "4", "5"],
        correctAnswer: 1
      },
      {
        question: "What is the official language of Uzbekistan?",
        options: ["Uzbek", "Persian", "Turkmen"],
        correctAnswer: 0
      },
      {
        question: "Where is the 'Hazrati Imam' complex located?",
        options: ["Tashkent", "Khiva", "Urgench"],
        correctAnswer: 0
      },
      {
        question: "In which city is 'Ichan Qal'a' located?",
        options: ["Samarkand", "Khiva", "Fergana"],
        correctAnswer: 1
      }
    ];

    // ========== ANCESTORS QUESTIONS ==========
    const ancestorsQuestions = [
      {
        question: "What was Amir Temur's motto?",
        options: ["Knowledge and power", "Justice and order", "Patience and courage"],
        correctAnswer: 1
      },
      {
        question: "How many languages did Beruni know?",
        options: ["2", "4", "More than 5"],
        correctAnswer: 2
      },
      {
  question: "What kind of works did Alisher Navoi write?",
  options: ["Scientific articles", "Ghazals and rubaiyat<br>(poems and quatrains)", "Epics"],
  correctAnswer: 1
},
      {
        question: "Where was Ibn Sina born?",
        options: ["Bukhara", "Termez", "Andijan"],
        correctAnswer: 0
      },
      {
        question: "How many years did it take to build Ulughbek's observatory?",
        options: ["1 year", "3 years", "5 years"],
        correctAnswer: 1
      },
      {
        question: "In which century did Al-Khwarizmi live?",
        options: ["9th century", "13th century", "15th century"],
        correctAnswer: 0
      },
      {
        question: "Where is Amir Temur's mausoleum located?",
        options: ["Bukhara", "Samarkand", "Tashkent"],
        correctAnswer: 1
      },
      {
        question: "In which city is the statue of Alisher Navoi located in the city centre?",
        options: ["Termez", "Namangan", "Tashkent"],
        correctAnswer: 2
      },
      {
        question: "From which city did Beruni come?",
        options: ["Khwarazm", "Bukhara", "Samarkand"],
        correctAnswer: 0
      },
      {
        question: "What did Ulughbek mainly study?",
        options: ["Music", "Astronomy", "Medicine"],
        correctAnswer: 1
      }
    ];

    // المتغيرات العامة لكل اختبار
    let currentMathQuestionIndex = 0;
    let mathScore = 0;
    let currentNatureQuestionIndex = 0;
    let natureScore = 0;
    let currentUzbekistanQuestionIndex = 0;
    let uzbekistanScore = 0;
    let currentAncestorsQuestionIndex = 0;
    let ancestorsScore = 0;

    // دالة محسنة لضبط حجم الخط بناءً على طول النص
    function adjustFontSize(button) {
      const textLength = button.textContent.length;
      
      // إزالة جميع فئات حجم الخط السابقة
      button.classList.remove('medium-text', 'small-text', 'very-small-text');
      
      // تطبيق حجم الخط المناسب بناءً على طول النص
      if (textLength > 25) {
        button.classList.add('very-small-text');
      } else if (textLength > 15) {
        button.classList.add('small-text');
      } else if (textLength > 10) {
        button.classList.add('medium-text');
      }
    }

    // ========== MATH FUNCTIONS ==========
    function loadMathQuestion() {
  if (currentMathQuestionIndex >= mathQuestions.length) {
    showMathResults();
    return;
  }

  const question = mathQuestions[currentMathQuestionIndex];
  document.getElementById('math-question-text').textContent = question.question;
  
  const progress = ((currentMathQuestionIndex + 1) / mathQuestions.length) * 100;
  document.getElementById('math-progress-bar').style.width = `${progress}%`;
  
  const optionsContainer = document.getElementById('math-options-container');
  optionsContainer.innerHTML = "";
  
  question.options.forEach((option, index) => {
    const button = document.createElement('button');
    button.className = 'option-button';
    button.innerHTML = option; // تغيير إلى innerHTML
    adjustFontSize(button);
    button.addEventListener('click', () => checkMathAnswer(index));
    optionsContainer.appendChild(button);
  });
}

    function checkMathAnswer(selectedIndex) {
      const question = mathQuestions[currentMathQuestionIndex];
      const buttons = document.querySelectorAll('#math-options-container .option-button');
      
      buttons.forEach(button => {
        button.style.pointerEvents = 'none';
      });
      
      if (selectedIndex === question.correctAnswer) {
        buttons[selectedIndex].classList.add('correct');
        mathScore++;
      } else {
        buttons[selectedIndex].classList.add('incorrect');
        buttons[question.correctAnswer].classList.add('correct');
      }
      
      setTimeout(() => {
        currentMathQuestionIndex++;
        loadMathQuestion();
      }, 1500);
    }

    // زر العودة من صفحة الرياضيات إلى صفحة المعرفة
document.getElementById('math-home-btn').addEventListener('click', () => {
  document.getElementById('math-questions-page').style.display = 'none';
  document.getElementById('knowledge-page').style.display = 'flex';
  resetMathQuiz();
});

// دالة لإعادة تعيين اختبار الرياضيات
function resetMathQuiz() {
  currentMathQuestionIndex = 0;
  mathScore = 0;
  document.getElementById('math-result-container').style.display = 'none';
  document.getElementById('math-progress-bar').style.width = '0%';
}

    function showMathResults() {
      document.getElementById('math-question-text').textContent = "You've completed the math quiz!";
      document.getElementById('math-options-container').innerHTML = "";
      document.getElementById('math-progress-bar').style.width = "100%";
      
      const percentage = (mathScore / mathQuestions.length) * 100;
      document.getElementById('math-result-score').textContent = `Score: ${mathScore}/${mathQuestions.length}`;
      
      let message = "";
      let title = "";
      
      if (percentage >= 90) {
        title = "Math Genius!";
        message = "Wow! You're a math wizard! Your skills are absolutely amazing!";
      } else if (percentage >= 70) {
        title = "Great Job!";
        message = "Excellent work! You have a strong understanding of mathematics!";
      } else if (percentage >= 50) {
        title = "Good Effort!";
        message = "Well done! You have a good foundation, keep practicing to improve!";
      } else {
        title = "Keep Learning!";
        message = "Don't worry! Math takes practice. Keep trying and you'll get better!";
      }
      
      document.getElementById('math-result-title').textContent = title;
      document.getElementById('math-result-message').textContent = message;
      document.getElementById('math-result-container').style.display = 'flex';
    }

    document.getElementById('math-restart-button').addEventListener('click', () => {
      currentMathQuestionIndex = 0;
      mathScore = 0;
      document.getElementById('math-result-container').style.display = 'none';
      loadMathQuestion();
    });

    // ========== NATURE FUNCTIONS ==========
    function loadNatureQuestion() {
  if (currentNatureQuestionIndex >= natureQuestions.length) {
    showNatureResults();
    return;
  }

  const question = natureQuestions[currentNatureQuestionIndex];
  document.getElementById('nature-question-text').textContent = question.question;

  const progress = ((currentNatureQuestionIndex + 1) / natureQuestions.length) * 100;
  document.getElementById('nature-progress-bar').style.width = `${progress}%`;
  
  const optionsContainer = document.getElementById('nature-options-container');
  optionsContainer.innerHTML = "";
  
  question.options.forEach((option, index) => {
    const button = document.createElement('button');
    button.className = 'option-button';
    button.innerHTML = option; // تغيير إلى innerHTML
    adjustFontSize(button);
    button.addEventListener('click', () => checkNatureAnswer(index));
    optionsContainer.appendChild(button);
  });
}

    function checkNatureAnswer(selectedIndex) {
      const question = natureQuestions[currentNatureQuestionIndex];
      const buttons = document.querySelectorAll('#nature-options-container .option-button');
      
      buttons.forEach(button => {
        button.style.pointerEvents = 'none';
      });
      
      if (selectedIndex === question.correctAnswer) {
        buttons[selectedIndex].classList.add('correct');
        natureScore++;
      } else {
        buttons[selectedIndex].classList.add('incorrect');
        buttons[question.correctAnswer].classList.add('correct');
      }
      
      setTimeout(() => {
        currentNatureQuestionIndex++;
        loadNatureQuestion();
      }, 1500);
    }

    function showNatureResults() {
      document.getElementById('nature-question-text').textContent = "You've completed the nature quiz!";
      document.getElementById('nature-options-container').innerHTML = "";
      document.getElementById('nature-progress-bar').style.width = "100%";
      
      const percentage = (natureScore / natureQuestions.length) * 100;
      document.getElementById('nature-result-score').textContent = `Score: ${natureScore}/${natureQuestions.length}`;
      
      let message = "";
      let title = "";
      
      if (percentage >= 90) {
        title = "Nature Expert!";
        message = "Amazing! You're a true nature lover with incredible knowledge!";
      } else if (percentage >= 70) {
        title = "Great Job!";
        message = "Excellent! You have wonderful knowledge about nature and environment!";
      } else if (percentage >= 50) {
        title = "Good Effort!";
        message = "Well done! You care about our planet, keep learning about nature!";
      } else {
        title = "Keep Exploring!";
        message = "Nature is amazing! Keep exploring and learning about our beautiful world!";
      }
      
      document.getElementById('nature-result-title').textContent = title;
      document.getElementById('nature-result-message').textContent = message;
      document.getElementById('nature-result-container').style.display = 'flex';
    }

    document.getElementById('nature-restart-button').addEventListener('click', () => {
      currentNatureQuestionIndex = 0;
      natureScore = 0;
      document.getElementById('nature-result-container').style.display = 'none';
      loadNatureQuestion();
    });

    // ========== UZBEKISTAN FUNCTIONS ==========
    function loadUzbekistanQuestion() {
      if (currentUzbekistanQuestionIndex >= uzbekistanQuestions.length) {
        showUzbekistanResults();
        return;
      }

      const question = uzbekistanQuestions[currentUzbekistanQuestionIndex];
      document.getElementById('uzbekistan-question-text').textContent = question.question;
      
      const progress = ((currentUzbekistanQuestionIndex + 1) / uzbekistanQuestions.length) * 100;
      document.getElementById('uzbekistan-progress-bar').style.width = `${progress}%`;
      
      const optionsContainer = document.getElementById('uzbekistan-options-container');
      optionsContainer.innerHTML = "";
      
      question.options.forEach((option, index) => {
        const button = document.createElement('button');
        button.className = 'option-button';
        button.textContent = option;
        adjustFontSize(button); // ضبط حجم الخط بناءً على طول النص
        button.addEventListener('click', () => checkUzbekistanAnswer(index));
        optionsContainer.appendChild(button);
      });
    }

    function checkUzbekistanAnswer(selectedIndex) {
      const question = uzbekistanQuestions[currentUzbekistanQuestionIndex];
      const buttons = document.querySelectorAll('#uzbekistan-options-container .option-button');
      
      buttons.forEach(button => {
        button.style.pointerEvents = 'none';
      });
      
      if (selectedIndex === question.correctAnswer) {
        buttons[selectedIndex].classList.add('correct');
        uzbekistanScore++;
      } else {
        buttons[selectedIndex].classList.add('incorrect');
        buttons[question.correctAnswer].classList.add('correct');
      }
      
      setTimeout(() => {
        currentUzbekistanQuestionIndex++;
        loadUzbekistanQuestion();
      }, 1500);
    }

    function showUzbekistanResults() {
      document.getElementById('uzbekistan-question-text').textContent = "You've completed the Uzbekistan quiz!";
      document.getElementById('uzbekistan-options-container').innerHTML = "";
      document.getElementById('uzbekistan-progress-bar').style.width = "100%";
      
      const percentage = (uzbekistanScore / uzbekistanQuestions.length) * 100;
      document.getElementById('uzbekistan-result-score').textContent = `Score: ${uzbekistanScore}/${uzbekistanQuestions.length}`;
      
      let message = "";
      let title = "";
      
      if (percentage >= 90) {
        title = "Uzbekistan Expert!";
        message = "Incredible! You have excellent knowledge about Uzbekistan's rich culture and history!";
      } else if (percentage >= 70) {
        title = "Great Job!";
        message = "Wonderful! You know Uzbekistan very well!";
      } else if (percentage >= 50) {
        title = "Good Effort!";
        message = "Well done! You're learning about Uzbekistan's amazing heritage!";
      } else {
        title = "Keep Learning!";
        message = "Uzbekistan has a fascinating history and culture! Keep exploring and learning!";
      }
      
      document.getElementById('uzbekistan-result-title').textContent = title;
      document.getElementById('uzbekistan-result-message').textContent = message;
      document.getElementById('uzbekistan-result-container').style.display = 'flex';
    }

    document.getElementById('uzbekistan-restart-button').addEventListener('click', () => {
      currentUzbekistanQuestionIndex = 0;
      uzbekistanScore = 0;
      document.getElementById('uzbekistan-result-container').style.display = 'none';
      loadUzbekistanQuestion();
    });

    // ========== ANCESTORS FUNCTIONS ==========
    // ========== ANCESTORS FUNCTIONS ==========
function loadAncestorsQuestion() {
  if (currentAncestorsQuestionIndex >= ancestorsQuestions.length) {
    showAncestorsResults();
    return;
  }

  const question = ancestorsQuestions[currentAncestorsQuestionIndex];
  document.getElementById('ancestors-question-text').textContent = question.question;
  
  const progress = ((currentAncestorsQuestionIndex + 1) / ancestorsQuestions.length) * 100;
  document.getElementById('ancestors-progress-bar').style.width = `${progress}%`;
  
  const optionsContainer = document.getElementById('ancestors-options-container');
  optionsContainer.innerHTML = "";
  
  question.options.forEach((option, index) => {
    const button = document.createElement('button');
    button.className = 'option-button';
    button.innerHTML = option; // تغيير من textContent إلى innerHTML
    adjustFontSize(button);
    button.addEventListener('click', () => checkAncestorsAnswer(index));
    optionsContainer.appendChild(button);
  });
}

    function checkAncestorsAnswer(selectedIndex) {
      const question = ancestorsQuestions[currentAncestorsQuestionIndex];
      const buttons = document.querySelectorAll('#ancestors-options-container .option-button');
      
      buttons.forEach(button => {
        button.style.pointerEvents = 'none';
      });
      
      if (selectedIndex === question.correctAnswer) {
        buttons[selectedIndex].classList.add('correct');
        ancestorsScore++;
      } else {
        buttons[selectedIndex].classList.add('incorrect');
        buttons[question.correctAnswer].classList.add('correct');
      }
      
      setTimeout(() => {
        currentAncestorsQuestionIndex++;
        loadAncestorsQuestion();
      }, 1500);
    }

    function showAncestorsResults() {
      document.getElementById('ancestors-question-text').textContent = "You've completed the ancestors quiz!";
      document.getElementById('ancestors-options-container').innerHTML = "";
      document.getElementById('ancestors-progress-bar').style.width = "100%";
      
      const percentage = (ancestorsScore / ancestorsQuestions.length) * 100;
      document.getElementById('ancestors-result-score').textContent = `Score: ${ancestorsScore}/${ancestorsQuestions.length}`;
      
      let message = "";
      let title = "";
      
      if (percentage >= 90) {
        title = "History Master!";
        message = "Outstanding! You have incredible knowledge about our great ancestors and their achievements!";
      } else if (percentage >= 70) {
        title = "Great Job!";
        message = "Excellent! You respect and understand our ancestors' legacy very well!";
      } else if (percentage >= 50) {
        title = "Good Effort!";
        message = "Well done! You're learning about the amazing people who shaped our world!";
      } else {
        title = "Keep Learning!";
        message = "Our ancestors have amazing stories! Keep exploring and learning from history!";
      }
      
      document.getElementById('ancestors-result-title').textContent = title;
      document.getElementById('ancestors-result-message').textContent = message;
      document.getElementById('ancestors-result-container').style.display = 'flex';
    }

    document.getElementById('ancestors-restart-button').addEventListener('click', () => {
      currentAncestorsQuestionIndex = 0;
      ancestorsScore = 0;
      document.getElementById('ancestors-result-container').style.display = 'none';
      loadAncestorsQuestion();
    });

    // تهيئة أول سؤال عند تحميل الصفحة
    window.addEventListener('load', () => {
      // لا تفعل شيئًا هنا، سيتم تحميل السؤال عند النقر على الموضوعات
    });
  </script>

</body>
</html>
